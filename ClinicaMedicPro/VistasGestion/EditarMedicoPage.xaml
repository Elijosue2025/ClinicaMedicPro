<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ClinicaMedicPro.VistasGestion.EditarMedicoPage"
             Title="Editar Médico"
             BackgroundColor="#F8FAFC">

    <ScrollView>
        <VerticalStackLayout Padding="30" Spacing="25">

            <Label Text="Editar Médico"
                   FontSize="28"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   TextColor="#1E293B"/>

            <Frame BackgroundColor="White" Padding="20" CornerRadius="16" HasShadow="True">
                <VerticalStackLayout Spacing="18">

                    <!-- Nombre del usuario (solo lectura) -->
                    <VerticalStackLayout Spacing="5">
                        <Label Text="Médico" FontAttributes="Bold" FontSize="16"/>
                        <Entry Text="{Binding Medico.us_nombre}"
                               IsReadOnly="True"
                               BackgroundColor="#F8FAFC"
                               TextColor="#475569"/>
                    </VerticalStackLayout>

                    <!-- Correo (solo lectura) -->
                    <VerticalStackLayout Spacing="5">
                        <Label Text="Correo" FontAttributes="Bold" FontSize="16"/>
                        <Entry Text="{Binding Medico.us_correo}"
                               IsReadOnly="True"
                               BackgroundColor="#F8FAFC"
                               TextColor="#475569"/>
                    </VerticalStackLayout>

                    <!-- Especialidad (editable) -->
                    <VerticalStackLayout Spacing="5">
                        <Label Text="Especialidad" FontAttributes="Bold" FontSize="16"/>
                        <Entry x:Name="EntryEspecialidad"
                               Placeholder="Ej: Cardiología, Pediatría..."
                               Text="{Binding Especialidad}"
                               BackgroundColor="#F1F5F9"/>
                    </VerticalStackLayout>

                    <!-- Botón Guardar -->
                    <Button Text="Guardar Cambios"
                            BackgroundColor="#0EA5E9"
                            TextColor="White"
                            CornerRadius="12"
                            FontAttributes="Bold"
                            HeightRequest="55"
                            Command="{Binding GuardarCommand}"
                            IsEnabled="{Binding IsNotBusy}"/>

                    <!-- Botón Cancelar -->
                    <Button Text="Cancelar"
                            BackgroundColor="#64748B"
                            TextColor="White"
                            CornerRadius="12"
                            Clicked="OnCancelarClicked"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Indicador de carga -->
            <ActivityIndicator IsRunning="{Binding IsBusy}"
                               Color="#0EA5E9"
                               IsVisible="{Binding IsBusy}"
                               VerticalOptions="CenterAndExpand"/>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>