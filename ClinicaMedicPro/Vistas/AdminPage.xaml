<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ClinicaMedicPro.Vistas.AdminPage"
             BackgroundColor="#F1F5F9"
             Title="Dashboard">

    <ScrollView>
        <VerticalStackLayout Spacing="24" Padding="24">

            <!-- HEADER -->
            <Border Stroke="#E2E8F0" StrokeThickness="1" Padding="20" StrokeShape="RoundRectangle 28">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#FFFFFF" Offset="0"/>
                        <GradientStop Color="#F8FAFC" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>
                <Border.Shadow>
                    <Shadow Brush="Black" Opacity="0.1" Radius="20" Offset="0,10"/>
                </Border.Shadow>

                <Grid ColumnDefinitions="Auto,*,Auto">
                    <Border BackgroundColor="#DC2626" WidthRequest="80" HeightRequest="80" StrokeShape="RoundRectangle 40">
                        <Label Text="CM" FontSize="28" TextColor="White" FontAttributes="Bold"
                               HorizontalOptions="Center" VerticalOptions="Center"/>
                    </Border>

                    <VerticalStackLayout Grid.Column="1" Spacing="4" Margin="20,0">
                        <Label x:Name="LabelBienvenida" Text="Bienvenido de vuelta," FontSize="16" TextColor="#64748B"/>
                        <Label x:Name="LabelNombreUsuario" Text="Cargando..." FontSize="28" FontAttributes="Bold" TextColor="#1E293B"/>
                        <Label x:Name="LabelRol" Text="Administrador" FontSize="18" FontAttributes="Bold" TextColor="#DC2626"/>
                    </VerticalStackLayout>

                    <Image Source="bell.png" HeightRequest="32" Grid.Column="2">
                        <Image.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnNotificacionesTapped"/>
                        </Image.GestureRecognizers>
                    </Image>
                </Grid>
            </Border>

            <!-- ESTADÍSTICAS -->
            <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto" RowSpacing="16" ColumnSpacing="16">

                <!-- Pacientes -->
                <Border Grid.Column="0" Grid.Row="0" Padding="20" StrokeShape="RoundRectangle 20">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#FEE2E2" Offset="0"/>
                            <GradientStop Color="#FCA5A5" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnPacientesTapped"/>
                    </Border.GestureRecognizers>
                    <Grid>
                        <Label Text="Pacientes Totales" FontSize="14" TextColor="#7F1D1D"/>
                        <Label Text="1,248" FontSize="36" FontAttributes="Bold" TextColor="#991B1B" VerticalOptions="Center"/>
                    </Grid>
                </Border>

                <!-- Médicos -->
                <Border Grid.Column="1" Grid.Row="0" BackgroundColor="#DBEAFE" Padding="20" StrokeShape="RoundRectangle 20">
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnMedicosTapped"/>
                    </Border.GestureRecognizers>
                    <Grid>
                        <Label Text="Médicos Activos" FontSize="14" TextColor="#1E40AF"/>
                        <Label Text="48" FontSize="36" FontAttributes="Bold" TextColor="#1D4ED8" VerticalOptions="Center"/>
                    </Grid>
                </Border>
                <!-- Paceintes -->
                <Border Grid.Column="1" Grid.Row="0" BackgroundColor="#DBEAFE" Padding="20" StrokeShape="RoundRectangle 20">
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnMedicosTapped"/>
                    </Border.GestureRecognizers>
                    <Grid>
                        <Label Text="Médicos Activos" FontSize="14" TextColor="#1E40AF"/>
                        <Label Text="48" FontSize="36" FontAttributes="Bold" TextColor="#1D4ED8" VerticalOptions="Center"/>
                    </Grid>
                </Border>

                <!-- Citas Hoy -->
                <Border Grid.Column="0" Grid.Row="1" BackgroundColor="#DCFCE7" Padding="20" StrokeShape="RoundRectangle 20">
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnCitasHoyTapped"/>
                    </Border.GestureRecognizers>
                    <Grid>
                        <Label Text="Citas de Hoy" FontSize="14" TextColor="#14532D"/>
                        <Label Text="156" FontSize="36" FontAttributes="Bold" TextColor="#166534" VerticalOptions="Center"/>
                    </Grid>
                </Border>

                <!-- Ingresos -->
                <Border Grid.Column="1" Grid.Row="1" Padding="20" StrokeShape="RoundRectangle 20">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#FEF3C7" Offset="0"/>
                            <GradientStop Color="#FDE68A" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnIngresosTapped"/>
                    </Border.GestureRecognizers>
                    <Grid>
                        <Label Text="Ingresos Mensuales" FontSize="14" TextColor="#92400E"/>
                        <Label Text="$48,520" FontSize="32" FontAttributes="Bold" TextColor="#D97706" VerticalOptions="Center"/>
                    </Grid>
                </Border>
            </Grid>

            <!-- MENÚ PRINCIPAL -->
            <VerticalStackLayout Spacing="16" Margin="0,20,0,0">
                <Label Text="Gestión Principal" FontSize="20" FontAttributes="Bold" TextColor="#1E293B"/>

                <!-- Usuarios -->
                <Border BackgroundColor="White" Stroke="#E2E8F0" StrokeShape="RoundRectangle 20" Padding="20">
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnGestionUsuariosTapped"/>
                    </Border.GestureRecognizers>
                    <Grid ColumnDefinitions="Auto,*,Auto">
                        <Frame BackgroundColor="#FECACA" CornerRadius="16" Padding="14" HasShadow="False">
                            <Label Text="Users" FontSize="28"/>
                        </Frame>
                        <VerticalStackLayout Grid.Column="1" Margin="16,0" VerticalOptions="Center">
                            <Label Text="Gestionar Usuarios" FontSize="18" FontAttributes="Bold"/>
                            <Label Text="Crear, editar o eliminar cuentas" FontSize="14" TextColor="#64748B"/>
                        </VerticalStackLayout>
                        <Label Grid.Column="2" Text=">" FontSize="32" TextColor="#94A3B8"/>
                    </Grid>
                </Border>

                <!-- Médicos -->
                <Border BackgroundColor="White" Stroke="#E2E8F0" StrokeShape="RoundRectangle 20" Padding="20">
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnGestionMedicosTapped"/>
                    </Border.GestureRecognizers>
                    <Grid ColumnDefinitions="Auto,*,Auto">
                        <Frame BackgroundColor="#BFDBFE" CornerRadius="16" Padding="14" HasShadow="False">
                            <Label Text="Doctor" FontSize="28"/>
                        </Frame>
                        <VerticalStackLayout Grid.Column="1" Margin="16,0" VerticalOptions="Center">
                            <Label Text="Gestión de Médicos" FontSize="18" FontAttributes="Bold"/>
                            <Label Text="Especialidades y horarios" FontSize="14" TextColor="#64748B"/>
                        </VerticalStackLayout>
                        <Label Grid.Column="2" Text=">" FontSize="32" TextColor="#94A3B8"/>
                    </Grid>
                </Border>

                <!-- Pacientes -->

                <Border BackgroundColor="White" Stroke="#E2E8F0" StrokeShape="RoundRectangle 20" Padding="20" Margin="0,10">
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnPacientesTapped"/>
                    </Border.GestureRecognizers>
                    <Grid ColumnDefinitions="Auto,*,Auto">
                        <Frame BackgroundColor="#FECACA" CornerRadius="16" Padding="14" HasShadow="False">
                            <Label Text="Pacientes" FontSize="28"/>
                        </Frame>
                        <VerticalStackLayout Grid.Column="1" Margin="16,0" VerticalOptions="Center">
                            <Label Text="Gestionar Pacientes" FontSize="18" FontAttributes="Bold"/>
                            <Label Text="Crear, editar o eliminar cuentas" FontSize="14" TextColor="#64748B"/>
                        </VerticalStackLayout>
                        <Label Grid.Column="2" Text=">" FontSize="32" TextColor="#94A3B8"/>
                    </Grid>
                </Border>

                <!-- Citas -->
                <Border BackgroundColor="White" Stroke="#E2E8F0" StrokeShape="RoundRectangle 20" Padding="20">
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnCitasTapped"/>
                    </Border.GestureRecognizers>
                    <Grid ColumnDefinitions="Auto,*,Auto">
                        <Frame BackgroundColor="#BBF7D0" CornerRadius="16" Padding="14" HasShadow="False">
                            <Label Text="Calendar" FontSize="28"/>
                        </Frame>
                        <VerticalStackLayout Grid.Column="1" Margin="16,0" VerticalOptions="Center">
                            <Label Text="Calendario de Citas" FontSize="18" FontAttributes="Bold"/>
                            <Label Text="Ver y administrar turnos" FontSize="14" TextColor="#64748B"/>
                        </VerticalStackLayout>
                        <Label Grid.Column="2" Text=">" FontSize="32" TextColor="#94A3B8"/>
                    </Grid>
                </Border>

                <!-- Reportes -->
                <Border BackgroundColor="White" Stroke="#E2E8F0" StrokeShape="RoundRectangle 20" Padding="20">
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnReportesTapped"/>
                    </Border.GestureRecognizers>
                    <Grid ColumnDefinitions="Auto,*,Auto">
                        <Frame BackgroundColor="#E5E7EB" CornerRadius="16" Padding="14" HasShadow="False">
                            <Label Text="Chart" FontSize="28"/>
                        </Frame>
                        <VerticalStackLayout Grid.Column="1" Margin="16,0" VerticalOptions="Center">
                            <Label Text="Reportes y Estadísticas" FontSize="18" FontAttributes="Bold"/>
                            <Label Text="Análisis mensual y anual" FontSize="14" TextColor="#64748B"/>
                        </VerticalStackLayout>
                        <Label Grid.Column="2" Text=">" FontSize="32" TextColor="#94A3B8"/>
                    </Grid>
                </Border>
            </VerticalStackLayout>

            <!-- Cerrar Sesión -->
            <Button Text="Cerrar Sesión"
                    BackgroundColor="#DC2626"
                    TextColor="White"
                    CornerRadius="16"
                    HeightRequest="56"
                    FontSize="18"
                    FontAttributes="Bold"
                    Clicked="OnCerrarSesionClicked"
                    Margin="0,30,0,10"/>

            <Label Text="© 2025 Clínica MedicPro • Todos los derechos reservados"
                   FontSize="12" TextColor="#94A3B8" HorizontalOptions="Center"/>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>